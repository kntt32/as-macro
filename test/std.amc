import core;
import core.string;
import core.syscall;
import std.syscall;

pub extern fn main();

pub fn _start() {
    main();
    let status: i32@rdi;
    status = 0;
    exit(status);
};

pub fn panic_handler() {
    static PANICED: [char; 10] = "paniced\n";
    let fd: i32@rdi = STDERR;
    let msg: *char@rsi;
    msg =& PANICED;
    let len_rcx: i64@rcx;
    msg.strlen(len_rcx);
    let len: i64@rdx = len_rcx;
    write(fd, msg, len);
    let code: i32@rdi = -1;
    exit(code);
};


