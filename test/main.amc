import std;
import std.io;
import core.cmp;

fn io_test() {
    let io: Io@stack;
    new(io, stdout);
    let msg: *char@rsi;
    msg =& "Hello, World!!\n";
    let len: i64@rcx;
    strlen(len, msg);
    let data: *i8@stack;
    data = msg;
    for((let i: i64@r9=0;let flag: bool@rax;); lt(flag, i, 2); i+=1) {
        write(io, data, len);
    };
    flush(io);

};

fn main() {
    let fnptr: *fn()@rax;
    fnptr =& io_test;
    io_test();
    (fnptr)();
};



