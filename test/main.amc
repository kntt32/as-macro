import std;
import std.io;
import std.io.print;
import std.box;

impl Box(i64);
impl Display_Box(Io, i64);

pub as drop(inout self: i64@reg+mem) {};
pub as clone(in self: i64@reg+mem, out buff: i64@reg+mem) {
    buff = self;
};

fn main() {
    let str: Str@stack;
    println(str.from("Hello, Println!"));

    let box: defer Box_i64@stack;
    box.new(15);
    {
        let box2: defer Box_i64@stack;
        box.clone(box2);
        let box2_addr: *i64@rax;
        box.addr(box2_addr);
        *box2_addr = 32;
        println(box2);
    };
    println(box);
};

